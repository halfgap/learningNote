<!DOCTYPE html>
<html>
<head>
<title>jdbc01</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">
/* GitHub stylesheet for MarkdownPad (http://markdownpad.com) */
/* Author: Nicolas Hery - http://nicolashery.com */
/* Version: b13fe65ca28d2e568c6ed5d7f06581183df8f2ff */
/* Source: https://github.com/nicolahery/markdownpad-github */

/* RESET
=============================================================================*/

html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video {
  margin: 0;
  padding: 0;
  border: 0;
}

/* BODY
=============================================================================*/

body {
  font-family: Helvetica, arial, freesans, clean, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  color: #333;
  background-color: #fff;
  padding: 20px;
  max-width: 960px;
  margin: 0 auto;
}

body>*:first-child {
  margin-top: 0 !important;
}

body>*:last-child {
  margin-bottom: 0 !important;
}

/* BLOCKS
=============================================================================*/

p, blockquote, ul, ol, dl, table, pre {
  margin: 15px 0;
}

/* HEADERS
=============================================================================*/

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
}

h1 tt, h1 code, h2 tt, h2 code, h3 tt, h3 code, h4 tt, h4 code, h5 tt, h5 code, h6 tt, h6 code {
  font-size: inherit;
}

h1 {
  font-size: 28px;
  color: #000;
}

h2 {
  font-size: 24px;
  border-bottom: 1px solid #ccc;
  color: #000;
}

h3 {
  font-size: 18px;
}

h4 {
  font-size: 16px;
}

h5 {
  font-size: 14px;
}

h6 {
  color: #777;
  font-size: 14px;
}

body>h2:first-child, body>h1:first-child, body>h1:first-child+h2, body>h3:first-child, body>h4:first-child, body>h5:first-child, body>h6:first-child {
  margin-top: 0;
  padding-top: 0;
}

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0;
}

h1+p, h2+p, h3+p, h4+p, h5+p, h6+p {
  margin-top: 10px;
}

/* LINKS
=============================================================================*/

a {
  color: #4183C4;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

/* LISTS
=============================================================================*/

ul, ol {
  padding-left: 30px;
}

ul li > :first-child, 
ol li > :first-child, 
ul li ul:first-of-type, 
ol li ol:first-of-type, 
ul li ol:first-of-type, 
ol li ul:first-of-type {
  margin-top: 0px;
}

ul ul, ul ol, ol ol, ol ul {
  margin-bottom: 0;
}

dl {
  padding: 0;
}

dl dt {
  font-size: 14px;
  font-weight: bold;
  font-style: italic;
  padding: 0;
  margin: 15px 0 5px;
}

dl dt:first-child {
  padding: 0;
}

dl dt>:first-child {
  margin-top: 0px;
}

dl dt>:last-child {
  margin-bottom: 0px;
}

dl dd {
  margin: 0 0 15px;
  padding: 0 15px;
}

dl dd>:first-child {
  margin-top: 0px;
}

dl dd>:last-child {
  margin-bottom: 0px;
}

/* CODE
=============================================================================*/

pre, code, tt {
  font-size: 12px;
  font-family: Consolas, "Liberation Mono", Courier, monospace;
}

code, tt {
  margin: 0 0px;
  padding: 0px 0px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  background-color: #f8f8f8;
  border-radius: 3px;
}

pre>code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent;
}

pre {
  background-color: #f8f8f8;
  border: 1px solid #ccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px;
}

pre code, pre tt {
  background-color: transparent;
  border: none;
}

kbd {
    -moz-border-bottom-colors: none;
    -moz-border-left-colors: none;
    -moz-border-right-colors: none;
    -moz-border-top-colors: none;
    background-color: #DDDDDD;
    background-image: linear-gradient(#F1F1F1, #DDDDDD);
    background-repeat: repeat-x;
    border-color: #DDDDDD #CCCCCC #CCCCCC #DDDDDD;
    border-image: none;
    border-radius: 2px 2px 2px 2px;
    border-style: solid;
    border-width: 1px;
    font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
    line-height: 10px;
    padding: 1px 4px;
}

/* QUOTES
=============================================================================*/

blockquote {
  border-left: 4px solid #DDD;
  padding: 0 15px;
  color: #777;
}

blockquote>:first-child {
  margin-top: 0px;
}

blockquote>:last-child {
  margin-bottom: 0px;
}

/* HORIZONTAL RULES
=============================================================================*/

hr {
  clear: both;
  margin: 15px 0;
  height: 0px;
  overflow: hidden;
  border: none;
  background: transparent;
  border-bottom: 4px solid #ddd;
  padding: 0;
}

/* TABLES
=============================================================================*/

table th {
  font-weight: bold;
}

table th, table td {
  border: 1px solid #ccc;
  padding: 6px 13px;
}

table tr {
  border-top: 1px solid #ccc;
  background-color: #fff;
}

table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

/* IMAGES
=============================================================================*/

img {
  max-width: 100%
}
</style>
</head>
<body>
<h3>JDBC</h3>
<ul>
<li>Java DataBase Connectivity，java数据库连接，实际上jdbc就是java中的一套和数据库交互的api（application program interface）</li>
</ul>
<h3>为什么使用JDBC</h3>
<ul>
<li>因为java需要连接多种数据库，为了避免每一种数据库都学习一套新的api，sun公司定义了一套JDBC的标准（接口，方法声明），各个数据库厂商根据此接口写方法的实现（驱动）,这样java程序员只需要掌握jdbc接口中方法的调用，掌握一套方法 可以连接任何数据库，一套遵循jdbc标准的代码可以连接任何数据库</li>
</ul>
<h3>如何使用JDBC</h3>
<ol>
<li>创建maven工程</li>
<li>去maven.tedu.cn网站搜索mysql的jar包坐标，放到工程中的pom.xml中</li>
<li>
<p>代码如下：</p>
<pre><code>//1. 注册驱动
Class.forName(&quot;com.mysql.jdbc.Driver&quot;);
//2. 获取连接对象
//url:数据库的连接地址
Connection connection = 
        DriverManager.getConnection(
                &quot;jdbc:mysql://localhost:3306/db3&quot;, 
                &quot;root&quot;, &quot;root&quot;);
//3. 创建SQL执行对象
Statement statement = connection.createStatement();
//4. 执行SQL
//String sql = &quot;create table if not exists jdbct1(id int,name varchar(10))&quot;;
String sql = &quot;drop table if exists jdbct1&quot;;
statement.execute(sql);
System.out.println(&quot;执行成功！&quot;);
//5. 关闭资源
statement.close();
connection.close();
</code></pre>

</li>
</ol>
<h3>执行SQL对象的方法</h3>
<ul>
<li>execute(sql)  此方法返回值代表是否有结果集，此方法可以执行任意SQL但是推荐执行DDL（数据定义语言 create alter drop truncate）</li>
<li>executeUpdate(sql) 可以执行增删改操作， 此方法返回值为int类型表示生效的行数</li>
<li>executeQuery(sql) 执行查询SQL语句 返回值为结果集</li>
</ul>
<h3>数据库类型和java类型对比</h3>
<pre><code>mysql                java
int                 getInt
varchar             getString
float/double        getFloat/Double
datetime/timestamp  getDate
</code></pre>

<h4>resultSet获取数据的两种方式</h4>
<ol>
<li>getString(字段名)</li>
<li>getString(查询结果字段的位置)  从1开始</li>
</ol>
<h4>Properties属性配置对象</h4>
<ul>
<li>用于读取*.properties配置文件里面的数据</li>
<li>
使用方式：
	//创建属性对象
	Properties properties = new Properties();
	//得到文件输入流
	InputStream inputStream = 
			Demo04.class.getClassLoader()
			.getResourceAsStream(&quot;jdbc.properties&quot;);
	//把文件加载到属性对象中
	properties.load(inputStream);
	//读取数据
	String name = properties.getProperty(&quot;name&quot;);
	//读取出来的任何内容都是字符串类型
	String age = properties.getProperty(&quot;age&quot;);
	System.out.println(&quot;name=&quot;+name+&quot; age=&quot;+age);
</li>
</ul>
<h3>DBCP 数据库连接池</h3>
<ul>
<li>DataBase Connection Pool</li>
<li>为什么使用数据库连接池： 如果没有数据库连接池 web服务器每次和数据交互都需要建立一个连接，使用完关闭连接，如果有1万次交互则会有1万次连接开启和关闭，频繁的开关连接 非常浪费资源，使用数据库连接池，可以设置初始连接数量和最大连接数量，每次和数据的交互都会从连接池中取连接用完后再次放回连接池中而不是断开连接，这样就可以起到连接重用的作用，避免了资源的浪费</li>
<li>
如何使用数据库连接池
	BasicDataSource dataSource = 
				new BasicDataSource();
	//设置数据库连接信息
	dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);
	dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/db3&quot;);
	dataSource.setUsername(&quot;root&quot;);
	dataSource.setPassword(&quot;root&quot;);
	//设置初始连接数量
	dataSource.setInitialSize(3);
	//设置最大连接数量
	dataSource.setMaxActive(5);
	//获取连接
	Connection connection = 
			dataSource.getConnection();
	System.out.println(connection);
</li>
</ul>

</body>
</html>
<!-- This document was created with MarkdownPad, the Markdown editor for Windows (http://markdownpad.com) -->
